(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,n){e.exports=n(56)},41:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"db",function(){return P}),n.d(a,"auth",function(){return x});var r={};n.r(r),n.d(r,"doCreateUserWithEmailAndPassword",function(){return D}),n.d(r,"doSignInWithEmailAndPassword",function(){return I}),n.d(r,"doSignOut",function(){return W}),n.d(r,"doPasswordReset",function(){return T}),n.d(r,"doPasswordUpdate",function(){return M});var o={};n.r(o),n.d(o,"doCreateUser",function(){return L}),n.d(o,"onceGetUsers",function(){return N});var i=n(0),u=n.n(i),s=n(16),c=n.n(s),l=n(10),m=(n(41),n(4)),h=n(6),d=n(8),p=n(7),f=n(9),b=n(59),v=n(58),E=n(15),O=n(57),w=n(22),g=n.n(w),j=(n(48),n(50),{apiKey:"AIzaSyA9v3GrTjCsoM5MT-V2NnEqGsA37NuQOfE",authDomain:"my-first-app-dfd97.firebaseapp.com",databaseURL:"https://my-first-app-dfd97.firebaseio.com",projectId:"my-first-app-dfd97",storageBucket:"my-first-app-dfd97.appspot.com",messagingSenderId:"1021669950976"});g.a.apps.length||g.a.initializeApp(j);var S,y,U,C,k,A,P=g.a.database(),x=g.a.auth(),D=function(e,t){return x.createUserWithEmailAndPassword(e,t)},I=function(e,t){return x.signInWithEmailAndPassword(e,t)},W=function(){return x.signOut()},T=function(e){return x.sendPasswordResetEmail(e)},M=function(e){return x.currentUser.updatePassword(e)},L=function(e,t,n){return P.ref("users/".concat(e)).set({username:t,email:n})},N=function(){return P.ref("users").once("value")},R=function(){return u.a.createElement("button",{type:"button",onClick:r.doSignOut},"Sign Out")},z="/home",F=function(){return u.a.createElement("ul",null,u.a.createElement("li",null,u.a.createElement(O.a,{to:"/"},"Landing")),u.a.createElement("li",null,u.a.createElement(O.a,{to:z},"Home")),u.a.createElement("li",null,u.a.createElement(O.a,{to:"/account"},"Account")),u.a.createElement("li",null,u.a.createElement(R,null)))},G=function(){return u.a.createElement("ul",null,u.a.createElement("li",null,u.a.createElement(O.a,{to:"/"},"Landing")),u.a.createElement("li",null,u.a.createElement(O.a,{to:"/signin"},"Sign In")))},B=Object(E.a)(Object(l.b)("sessionStore"),l.c)(function(e){var t=e.sessionStore;return u.a.createElement("div",null,t.authUser?u.a.createElement(F,null):u.a.createElement(G,null))}),H=function(){return u.a.createElement("div",null,u.a.createElement("h1",null,"Landign page"))},J=n(11),q=n(13),K=n(60),Q={username:"",email:"",passwordOne:"",passwordTwo:"",error:null},V=function(e,t){return function(){return Object(q.a)({},e,t)}},$=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).onSubmit=function(e){var t=n.state,a=t.username,i=t.email,u=t.passwordOne,s=n.props.history;r.doCreateUserWithEmailAndPassword(i,u).then(function(e){o.doCreateUser(e.user.uid,a,i).then(function(){n.setState(Object(J.a)({},Q)),s.push(z)}).catch(function(e){n.setState(V("error",e))})}).catch(function(e){n.setState(V("error",e))}),e.preventDefault()},n.state=Object(J.a)({},Q),n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.username,a=t.email,r=t.passwordOne,o=t.passwordTwo,i=t.error,s=r!==o||""===r||""===a||""===n;return u.a.createElement("form",{onSubmit:this.onSubmit},u.a.createElement("input",{value:n,onChange:function(t){return e.setState(V("username",t.target.value))},type:"text",placeholder:"Full Name"}),u.a.createElement("input",{value:a,onChange:function(t){return e.setState(V("email",t.target.value))},type:"text",placeholder:"Email Address"}),u.a.createElement("input",{value:r,onChange:function(t){return e.setState(V("passwordOne",t.target.value))},type:"password",placeholder:"Password"}),u.a.createElement("input",{value:o,onChange:function(t){return e.setState(V("passwordTwo",t.target.value))},type:"password",placeholder:"Confirm Password"}),u.a.createElement("button",{disabled:s,type:"submit"},"Sign Up"),i&&u.a.createElement("p",null,i.message))}}]),t}(i.Component),X=function(){return u.a.createElement("p",null,"Don't have account?"," ",u.a.createElement(O.a,{to:"/signup"},"Sign Up"))},Y=Object(K.a)(function(e){var t=e.history;return u.a.createElement("div",null,u.a.createElement("h1",null,"Sign Up"),u.a.createElement($,{history:t}))}),Z=function(e,t){return function(){return Object(q.a)({},e,t)}},_={email:"",error:null},ee=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).onSubmit=function(e){var t=n.state.email;r.doPasswordReset(t).then(function(){n.setState(Object(J.a)({},_))}).catch(function(e){n.setState(Z("error",e))}),e.preventDefault()},n.state=Object(J.a)({},_),n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.email,a=t.error,r=""===n;return u.a.createElement("form",{onSubmit:this.onSubmit},u.a.createElement("input",{value:this.state.email,onChange:function(t){return e.setState(Z("email",t.target.value))},type:"text",placeholder:"Email Address"}),u.a.createElement("button",{disabled:r,type:"submit"},"Reset My Password"),a&&u.a.createElement("p",null,a.message))}}]),t}(i.Component),te=function(){return u.a.createElement("p",null,u.a.createElement(O.a,{to:"/pw-forget"},"Forgot Password?"))},ne=function(){return u.a.createElement("div",null,u.a.createElement("h1",null,"PasswordForget"),u.a.createElement(ee,null))},ae=function(e,t){return function(){return Object(q.a)({},e,t)}},re={email:"",password:"",error:null},oe=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).onSubmit=function(e){var t=n.state,a=t.email,o=t.password,i=n.props.history;r.doSignInWithEmailAndPassword(a,o).then(function(){n.setState(Object(J.a)({},re)),i.push(z)}).catch(function(e){n.setState(ae("error",e))}),e.preventDefault()},n.state=Object(J.a)({},re),n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.email,a=t.password,r=t.error,o=""===a||""===n;return u.a.createElement("form",{onSubmit:this.onSubmit},u.a.createElement("input",{value:n,onChange:function(t){return e.setState(ae("email",t.target.value))},type:"text",placeholder:"Email Address"}),u.a.createElement("input",{value:a,onChange:function(t){return e.setState(ae("password",t.target.value))},type:"password",placeholder:"Password"}),u.a.createElement("button",{disabled:o,type:"submit"},"Sign In"),r&&u.a.createElement("p",null,r.message))}}]),t}(i.Component),ie=Object(K.a)(function(e){var t=e.history;return u.a.createElement("div",null,u.a.createElement("h1",null,"Sign In"),u.a.createElement(oe,{history:t}),u.a.createElement(te,null),u.a.createElement(X,null))}),ue=function(e){return function(t){var n=function(n){function r(){return Object(m.a)(this,r),Object(d.a)(this,Object(p.a)(r).apply(this,arguments))}return Object(f.a)(r,n),Object(h.a)(r,[{key:"componentDidMount",value:function(){var t=this;a.auth.onAuthStateChanged(function(n){e(n)||t.props.history.push("/signin")})}},{key:"render",value:function(){return this.props.sessionStore.authUser?u.a.createElement(t,this.props):null}}]),r}(u.a.Component);return Object(E.a)(K.a,Object(l.b)("sessionStore"),l.c)(n)}},se=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={users:null},n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.userStore;o.onceGetUsers().then(function(t){return e.setUsers(t.val())})}},{key:"render",value:function(){var e=this.props.userStore.users;return u.a.createElement("div",null,u.a.createElement("h1",null,"Home"),u.a.createElement("p",null,"The Home Page is accessible by every signed in user."),!!e&&u.a.createElement(ce,{users:e}))}}]),t}(i.Component),ce=function(e){var t=e.users;return u.a.createElement("div",null,u.a.createElement("h2",null,"List of Usernames of Users"),u.a.createElement("p",null,"(Saved on Sign Up in Firebase Database)"),Object.keys(t).map(function(e){return u.a.createElement("div",{key:e},t[e].username)}))},le=Object(E.a)(ue(function(e){return!!e}),Object(l.b)("userStore"),l.c)(se),me=function(e,t){return function(){return Object(q.a)({},e,t)}},he={passwordOne:"",passwordTwo:"",error:null},de=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).onSubmit=function(e){var t=n.state.passwordOne;r.doPasswordUpdate(t).then(function(){n.setState(Object(J.a)({},he))}).catch(function(e){n.setState(me("error",e))}),e.preventDefault()},n.state=Object(J.a)({},he),n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.passwordOne,a=t.passwordTwo,r=t.error,o=n!==a||""===n;return u.a.createElement("form",{onSubmit:this.onSubmit},u.a.createElement("input",{value:n,onChange:function(t){return e.setState(me("passwordOne",t.target.value))},type:"password",placeholder:"New Password"}),u.a.createElement("input",{value:a,onChange:function(t){return e.setState(me("passwordTwo",t.target.value))},type:"password",placeholder:"Confirm New Password"}),u.a.createElement("button",{disabled:o,type:"submit"},"Reset My Password"),r&&u.a.createElement("p",null,r.message))}}]),t}(i.Component),pe=Object(E.a)(ue(function(e){return!!e}),Object(l.b)("sessionStore"),l.c)(function(e){var t=e.sessionStore;return u.a.createElement("div",null,u.a.createElement("h1",null,"Account: ",t.authUser.email),u.a.createElement(ee,null),u.a.createElement(de,null))}),fe=function(e){var t=function(t){function n(){return Object(m.a)(this,n),Object(d.a)(this,Object(p.a)(n).apply(this,arguments))}return Object(f.a)(n,t),Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.sessionStore;a.auth.onAuthStateChanged(function(t){t?e.setAuthUser(t):e.setAuthUser(null)})}},{key:"render",value:function(){return u.a.createElement(e,this.props)}}]),n}(u.a.Component);return Object(l.b)("sessionStore")(t)}(function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={authUser:null},n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;a.auth.onAuthStateChanged(function(t){t?e.setState({authUser:t}):e.setState({authUser:null})})}},{key:"render",value:function(){return u.a.createElement(b.a,null,u.a.createElement("div",null,u.a.createElement(B,{authUser:this.state.authUser}),u.a.createElement("hr",null),u.a.createElement(v.a,{exact:!0,path:"/",component:H}),u.a.createElement(v.a,{exact:!0,path:"/signup",component:Y}),u.a.createElement(v.a,{exact:!0,path:"/signin",component:ie}),u.a.createElement(v.a,{exact:!0,path:"/pw-forget",component:ne}),u.a.createElement(v.a,{exact:!0,path:z,component:le}),u.a.createElement(v.a,{exact:!0,path:"/account",component:pe})))}}]),t}(i.Component)),be=n(3),ve=n(18),Ee=n(19),Oe=(n(31),S=function e(t){Object(m.a)(this,e),Object(ve.a)(this,"authUser",y,this),Object(ve.a)(this,"setAuthUser",U,this),this.rootStore=t},y=Object(Ee.a)(S.prototype,"authUser",[be.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=Object(Ee.a)(S.prototype,"setAuthUser",[be.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.authUser=t}}}),S),we=(C=function e(t){Object(m.a)(this,e),Object(ve.a)(this,"users",k,this),Object(ve.a)(this,"setUsers",A,this),this.rootStore=t},k=Object(Ee.a)(C.prototype,"users",[be.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=Object(Ee.a)(C.prototype,"setUsers",[be.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.users=t}}}),C);Object(be.e)({enforceActions:!0});var ge=new function e(){Object(m.a)(this,e),this.sessionStore=new Oe(this),this.userStore=new we(this)},je=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Se(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(u.a.createElement(l.a,ge,u.a.createElement(fe,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/react-redux-authentication",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/react-redux-authentication","/service-worker.js");je?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Se(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):Se(e)})}}()}},[[36,2,1]]]);
//# sourceMappingURL=main.ddfd89c0.chunk.js.map